# i18n-generator + Vite Example

A complete example of using **i18n-generator CLI** with Vite + React + TypeScript.

## ğŸŒŸ Features

- âš¡ **Vite** - Lightning fast development
- ğŸ”· **TypeScript** - Full type safety
- âš›ï¸ **React 18** - Latest React features
- ğŸŒ **i18next** - Internationalization framework
- ğŸ› ï¸ **i18n-generator CLI** - Universal translation file generator
- ğŸ¨ **Beautiful UI** - Modern, responsive design
- ğŸ”¥ **HMR** - Hot Module Replacement

## ğŸ“¦ What's Different from Webpack Example?

| Feature | Webpack Example | Vite Example |
|---------|----------------|--------------|
| Build Tool | Webpack | Vite |
| i18n Setup | Webpack Plugin | CLI Tool |
| TypeScript | Optional | âœ… Full support |
| Dev Server | webpack-dev-server | Vite dev server |
| Translation Loading | Static imports | HTTP Backend |
| Speed | Medium | âš¡ Super fast |

## ğŸš€ Quick Start

### 1. Install Dependencies

```bash
pnpm install
```

### 2. Generate Translations

```bash
pnpm i18n
```

This runs `i18n-gen` CLI which reads from `src/translations/` and generates files in `public/locales/`.

### 3. Start Development Server

```bash
pnpm dev
```

Open http://localhost:3001

## ğŸ“ Project Structure

```
example-vite/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ translations/          # Input translations
â”‚   â”‚   â”œâ”€â”€ common.json        # Common translations
â”‚   â”‚   â””â”€â”€ features.json      # Feature translations (nested)
â”‚   â”œâ”€â”€ App.tsx               # Main component
â”‚   â”œâ”€â”€ App.css               # Styles
â”‚   â”œâ”€â”€ i18n.ts               # i18next configuration
â”‚   â”œâ”€â”€ main.tsx              # Entry point
â”‚   â””â”€â”€ index.css             # Global styles
â”œâ”€â”€ public/
â”‚   â””â”€â”€ locales/              # Generated by i18n-gen
â”‚       â”œâ”€â”€ vi/
â”‚       â”‚   â”œâ”€â”€ common.json
â”‚       â”‚   â””â”€â”€ features.json
â”‚       â”œâ”€â”€ en/
â”‚       â””â”€â”€ ... (5 languages)
â”œâ”€â”€ i18n.config.js            # i18n-generator config
â”œâ”€â”€ vite.config.ts            # Vite configuration
â”œâ”€â”€ tsconfig.json             # TypeScript config
â””â”€â”€ package.json
```

## ğŸ”§ Configuration

### i18n.config.js

```javascript
module.exports = {
	languages: ['vi', 'en', 'zh', 'ja', 'ko'],
	inputDir: './src/translations',
	outputDir: './public/locales',
};
```

### vite.config.ts

```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

// No i18n plugin needed! Use CLI instead
export default defineConfig({
	plugins: [react()],
});
```

## ğŸŒ Supported Languages

- ğŸ‡»ğŸ‡³ Vietnamese (vi)
- ğŸ‡ºğŸ‡¸ English (en)
- ğŸ‡¨ğŸ‡³ Chinese (zh)
- ğŸ‡¯ğŸ‡µ Japanese (ja)
- ğŸ‡°ğŸ‡· Korean (ko)

## ğŸ’¡ How It Works

### 1. Translation Input (Nested Objects)

`src/translations/features.json`:
```json
{
	"features": {
		"title": {
			"vi": "TÃ­nh nÄƒng",
			"en": "Features"
		},
		"vite": {
			"vi": "âš¡ Cá»±c ká»³ nhanh vá»›i Vite",
			"en": "âš¡ Lightning fast with Vite"
		}
	}
}
```

### 2. CLI Generation

```bash
pnpm i18n-gen
```

Output in `public/locales/vi/features.json`:
```json
{
	"features": {
		"title": "TÃ­nh nÄƒng",
		"vite": "âš¡ Cá»±c ká»³ nhanh vá»›i Vite"
	}
}
```

### 3. Load in React

```typescript
import { useTranslation } from 'react-i18next';

function App() {
	const { t } = useTranslation(['features']);

	return <h1>{t('features:features.title')}</h1>;
}
```

## ğŸ“ Scripts

```json
{
	"dev": "i18n-gen && vite",        // Generate + start dev
	"build": "i18n-gen && vite build", // Generate + build
	"preview": "vite preview",         // Preview production
	"i18n": "i18n-gen"                // Generate only
}
```

## ğŸ¯ TypeScript Support

### Type-safe translations

Create `src/types/i18n.d.ts`:

```typescript
import 'react-i18next';

interface CommonTranslations {
	app_title: string;
	welcome: string;
}

interface FeaturesTranslations {
	features: {
		title: string;
		vite: string;
	};
}

declare module 'react-i18next' {
	interface CustomTypeOptions {
		defaultNS: 'common';
		resources: {
			common: CommonTranslations;
			features: FeaturesTranslations;
		};
	}
}
```

Now get autocomplete:

```typescript
t('common:welcome');       // âœ… Type-safe
t('features:features.vite'); // âœ… Type-safe
t('invalid:key');          // âŒ TypeScript error
```

## ğŸ”„ Development Workflow

1. Edit translations in `src/translations/`
2. Run `pnpm i18n` to regenerate files
3. Changes reflect immediately (HMR)
4. No webpack configuration needed!

## ğŸ—ï¸ Production Build

```bash
pnpm build
```

Generates optimized production build in `dist/`.

## ğŸ†š Comparison with Webpack Plugin

### Webpack Plugin
```javascript
// webpack.config.js
plugins: [
	new i18nGenerator({
		languages: ['vi', 'en'],
		inputDir: './src/translations',
		outputDir: './public/locales',
	}),
]
```

### CLI Tool (Vite)
```javascript
// i18n.config.js
module.exports = {
	languages: ['vi', 'en'],
	inputDir: './src/translations',
	outputDir: './public/locales',
};
```

```json
// package.json
{
	"scripts": {
		"dev": "i18n-gen && vite"
	}
}
```

## ğŸ¨ Features Demonstrated

1. **Nested Object Structure** - `features.json` shows hierarchical translations
2. **TypeScript Integration** - Full type safety
3. **HTTP Backend** - Dynamically load translations
4. **Language Switcher** - Real-time language switching
5. **Modern UI** - Beautiful, responsive design
6. **CLI Workflow** - No plugin configuration

## ğŸ¤” Why CLI instead of Plugin?

- âœ… **Universal** - Works with any build tool
- âœ… **Simple** - No complex plugin configuration
- âœ… **Fast** - Generate once, use everywhere
- âœ… **Flexible** - Can run independently
- âœ… **CI/CD Ready** - Easy to integrate in pipelines

## ğŸ“š Learn More

- [Main README](../README.md)
- [TypeScript Guide](../TYPESCRIPT.md)
- [Vite Guide](../VITE.md)
- [i18next Documentation](https://www.i18next.com/)
- [Vite Documentation](https://vitejs.dev/)

## ğŸ› Troubleshooting

### Translations not loading?

1. Make sure you ran `pnpm i18n-gen`
2. Check that files exist in `public/locales/`
3. Verify `i18n.config.js` paths are correct

### TypeScript errors?

1. Run `pnpm install` to ensure all types are installed
2. Check `tsconfig.json` has `"resolveJsonModule": true`

## ğŸ“„ License

MIT
